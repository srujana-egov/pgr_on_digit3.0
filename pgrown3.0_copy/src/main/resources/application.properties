# ===============================
# Database Configuration
# ===============================
spring.datasource.url=jdbc:postgresql://localhost:5432/pgrown
spring.datasource.username=postgres
spring.datasource.password=password
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.properties.hibernate.default_schema=public

# ===============================
# JPA / Hibernate
# ===============================
spring.jpa.hibernate.ddl-auto=none 
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# ===============================
# Flyway
# ===============================
spring.flyway.enabled=false
spring.flyway.url=jdbc:postgresql://localhost:5432/pgrown
spring.flyway.user=postgres
spring.flyway.password=password
spring.flyway.schemas=public
spring.flyway.baseline-on-migrate=true
spring.flyway.database.connection-error-handling.ignoreUnsupportedDatabase=true

# ===============================
# Kafka (disabled for now)
# ===============================
spring.kafka.enabled=false

server.port = 8083


idgen.template.endpoint=/template

# IdGen configs
idgen.host=http://localhost:8100
idgen.generate.endpoint=idgen/v1/generate
idgen.idname=service_request
idgen.templateId=pgr


# Use the correct endpoint for fileStoreId-based lookup
filestore.host=http://localhost:8102
filestore.file.endpoint=/filestore/v1/files/metadata

# Use the correct endpoint for boundary 
boundary.host=http://localhost:8093
boundary.search.endpoint=/boundary/v1

# Notification Service
notification.host=http://localhost:8091
notification.email.endpoint=/notification/v1/email/send
notification.sms.endpoint=/notification/sms/send

#Workflow service
workflow.host=http://localhost:8085
workflow.transition.post=/workflow/v1/transition
workflow.process.base=workflow/v1/process
pgr.workflow.processId=4a1c8a61-44fa-43c9-bb59-fe2478b41cf7

# ===============================
# Digit Client Library Configuration
# ===============================
# Digit services base URLs for digit-client library
digit.services.boundary.base-url=http://localhost:8093
digit.services.account.base-url=http://localhost:8081
digit.services.workflow.base-url=http://localhost:8085
digit.services.idgen.base-url=http://localhost:8100
digit.services.notification.base-url=http://localhost:8091
digit.services.timeout.read=30000

# Header propagation settings for digit-client
digit.propagate.headers.allow=authorization,x-correlation-id,x-request-id,x-tenant-id,x-client-id
digit.propagate.headers.prefixes=x-ctx-,x-trace-

# Digit client logging (optional - for debugging)
logging.level.com.digit.services=DEBUG
logging.level.com.digit.http=DEBUG
logging.level.com.digit.config=DEBUG
